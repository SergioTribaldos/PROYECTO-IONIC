<ion-header>
  <ion-toolbar color="primary">
    <div *ngIf="visibleSearchOptions; else backButton"><ion-icon class="searchbar-icon" name="search-outline"></ion-icon></div>
    <ng-template #backButton><ion-icon class="searchbar-icon" name="arrow-back-outline"></ion-icon></ng-template>
    <ion-searchbar #searchBar color="light" animated clear-icon="close-circle" placeholder="Buscar"
                   searchIcon="none"
                   (ionFocus)="visibleSearchOptions=false"
                   (ionBlur)="visibleSearchOptions=true"
                   (search)="searchByName($event)">
    </ion-searchbar>
    <ion-fab-button #searchOptions color="light"
                    (click)="showOptions()"
                    [ngStyle]="{'visibility':visibleSearchOptions?'visible':'hidden'}"
    >
      <ion-icon name="options-outline"></ion-icon>
    </ion-fab-button>
  </ion-toolbar>
</ion-header>


<!--
<div class="navbar-container">
  <div class="logo" (click)="navigateTo('home/all')">
    W
  </div>

  <div class="search-container">
    <div class="input-container">
      <span class="material-icons search-icon">
        search
      </span>
      <input
        class="search-input"
        placeholder="Buscar"
        (keyup.enter)="searchByName($event)"
      />
    </div>
  </div>

  <div>
    <mat-chip-list>
      <mat-chip class="upload-product" (click)="navigateTo('home/upload')"
        ><span class="material-icons upload-product-icon"> control_point </span
        >Subir producto</mat-chip
      >
      <mat-chip class="upload-product" (click)="navigateTo('user-menu/chat')"
        ><span class="material-icons upload-product-icon"> chat </span>
        <span
          [matBadge]="unreadMessages$ | async"
          matBadgeOverlap="false"
          matBadgeColor="warn"
          >Chat</span
        >
      </mat-chip>
      <mat-chip [matMenuTriggerFor]="appMenu"
        ><span class="material-icons user-icon"> face </span>Usuario</mat-chip
      >
    </mat-chip-list>
  </div>
</div>
<div class="subvar-container" *ngIf="isSubBarActivated$ | async">
  <app-search-bar></app-search-bar>
</div>

<mat-menu #appMenu="matMenu">
  <div (click)="$event.stopPropagation()">
    <button mat-menu-item (click)="navigateTo('user-menu')">Productos</button>
    <mat-divider></mat-divider>
    <div mat-menu-item (click)="logout()">Logout</div>
  </div>
</mat-menu>
-->
